(this.webpackJsonpfinalproject=this.webpackJsonpfinalproject||[]).push([[0],{109:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),o=a.n(c),l=a(12),i=a(27),s=a(11),u=a.n(s),m=a(51),p=a(68),d=a.n(p),h=function(){return window.history.replaceState({},document.title,window.location.pathname)},f=r.a.createContext(),E=function(){return Object(n.useContext)(f)},g=a(151),b=a(28),v=a(157),O=a(158),y=a(155),j=a(110),w=a(156),S=a(169),k=a(82),C=a(59),R=a.n(C),_=a(57),L=a.n(_),T=a(170),x=a(154),A=a(166),I=a(14),N=Object(g.a)((function(e){return{formControl:{margin:e.spacing(1),minWidth:120},selectEmpty:{marginTop:e.spacing(2)}}}));function P(e){var t=r.a.useState(""),a=Object(l.a)(t,2),n=a[0],c=a[1],o=e.values.map((function(e){return r.a.createElement(S.a,{key:e,value:e},e)})),i=Object(I.b)(),s=N();return r.a.createElement("div",null,r.a.createElement(x.a,{className:s.formControl},r.a.createElement(T.a,{style:{color:"white"},id:"demo-simple-select-label"},e.name),r.a.createElement(A.a,{style:{color:"white"},labelId:"demo-simple-select-label",id:"demo-simple-select",value:n,onChange:function(t){var a=t.target.value;console.log(a),c(a),e.action(i,a)}},r.a.createElement(S.a,{value:"all"}," all "),o)))}var F=a(75),H=a.n(F),U=a(58),W=a.n(U),B=a(22),M=Object(B.a)(),K=a(74),z=a.n(K),D=a(171),G=function(e,t){e({type:"SET_SPECIES_FILTER",payload:t})},J=function(e,t){e({type:"SET_LOCATION_FILTER",payload:t})};function V(e){var t=Object(I.b)(),a=e.classes;return r.a.createElement("div",{className:a.search},r.a.createElement("div",{className:a.searchIcon},r.a.createElement(z.a,null)),r.a.createElement(D.a,{onChange:function(e){return function(e,t){e({type:"SET_SEARCH_PARAMS",payload:t})}(t,e.target.value)},classes:{root:a.inputRoot,input:a.inputInput},inputProps:{"aria-label":"search"}}))}var X=Object(g.a)((function(e){return{grow:{flexGrow:1,marginBottom:"1vh"},menuButton:{marginRight:e.spacing(2)},logout:{margin:0,color:"white",fontSize:"3vh"},login:{margin:0,color:"white",fontSize:"3vh"},title:Object(i.a)({display:"none"},e.breakpoints.up("sm"),{display:"block",marginLeft:"18%"}),search:Object(i.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(b.b)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(b.b)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(3),width:"auto"}),searchIcon:{width:e.spacing(7),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(i.a)({padding:e.spacing(1,1,1,7),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:200}),sectionDesktop:Object(i.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(i.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"})}})),Y=["largemouth bass","smallmouth bass","crappie","bream","yellow catfish","blue catfish","carp","armored catfish","tilapia","white bass"],$=["East Houston Area","West Houston Area","North Houston Area","South Houston Area","Central Houston Area"];function q(){var e=E(),t=e.isAuthenticated,a=e.loginWithRedirect,n=e.logout,c=X(),o=r.a.useState(null),i=Object(l.a)(o,2),s=i[0],u=i[1],m=r.a.useState(null),p=Object(l.a)(m,2),d=p[0],h=p[1],f=(Boolean(s),Boolean(d)),g=function(){h(null)},b=function(){u(null),g()},C=r.a.createElement(k.a,{anchorEl:d,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:f,onClose:g},r.a.createElement(S.a,{onClick:function(){b(),M.push("/messages")}},r.a.createElement(y.a,{"aria-label":"show 4 new mails",color:"inherit"},r.a.createElement(w.a,{badgeContent:4,color:"secondary"},r.a.createElement(L.a,{style:{marginBottom:"2vh"}}))),r.a.createElement("p",null,"Messages")),r.a.createElement(S.a,{onClick:function(){b(),M.push("/")}},r.a.createElement(y.a,{color:"inherit"},r.a.createElement(W.a,{titleAccess:"Home",style:{marginBottom:"2vh"}})),r.a.createElement("p",null,"Home")),r.a.createElement(S.a,{onClick:function(){M.push("/profile"),b()}},r.a.createElement(y.a,{"aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",color:"inherit"},r.a.createElement(R.a,{style:{marginBottom:"2vh"}})),r.a.createElement("p",null,"Profile")));return r.a.createElement("div",{className:c.grow},r.a.createElement(v.a,{position:"static"},r.a.createElement(O.a,null,!t&&r.a.createElement(y.a,{"aria-label":"Login",onClick:function(){return a({})}},r.a.createElement("p",{className:c.login},"Login")),t&&r.a.createElement(y.a,{"aria-label":"Logout",onClick:function(){return n()}},r.a.createElement("p",{className:c.logout},"Logout")),r.a.createElement(V,{classes:c}),r.a.createElement(P,{values:Y,name:"Species",action:G}),r.a.createElement(P,{values:$,name:"Location",action:J}),r.a.createElement(j.a,{className:c.title,variant:"h4",noWrap:!0},"Houston Fishing"),r.a.createElement("div",{className:c.grow}),t&&r.a.createElement("span",null,r.a.createElement(y.a,{"aria-label":"show 4 new mails",color:"inherit",onClick:function(){return M.push("/messages")}},r.a.createElement(w.a,{badgeContent:4,color:"secondary"},r.a.createElement(L.a,{titleAccess:"Messages"}))),r.a.createElement(y.a,{onClick:function(){return M.push("/profile")},edge:"end","aria-label":"account of current user","aria-controls":"primary-search-account-menu",color:"inherit"},r.a.createElement(R.a,{titleAccess:"Profile"}))),r.a.createElement("div",{className:c.sectionDesktop},r.a.createElement(y.a,{color:"inherit",onClick:function(){return M.push("/")}},r.a.createElement(W.a,{titleAccess:"Home",fontSize:"large"}))),r.a.createElement("div",{className:c.sectionMobile},r.a.createElement(y.a,{"aria-label":"show more","aria-controls":"primary-search-account-menu-mobile","aria-haspopup":"true",onClick:function(e){h(e.currentTarget)},color:"inherit"},r.a.createElement(H.a,null))))),C)}var Q=a(168),Z=function(){var e=E(),t=e.loading,a=e.user;return t||!a?r.a.createElement("div",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:a.picture,alt:"Profile"}),r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.email),r.a.createElement("code",null,JSON.stringify(a,null,2)))},ee=function(e){var t=e.component,a=e.path,c=Object(m.a)(e,["component","path"]),o=E(),l=o.loading,i=o.isAuthenticated,s=o.loginWithRedirect;Object(n.useEffect)((function(){if(!l&&!i){u.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.awrap(s({appState:{targetUrl:a}}));case 2:case"end":return e.stop()}}))}}),[l,i,s,a]);return r.a.createElement(Q.a,Object.assign({path:a,render:function(e){return!0===i?r.a.createElement(t,e):null}},c))},te=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(""),i=Object(l.a)(o,2),s=i[0],m=i[1],p=E().getTokenSilently;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"External API"),r.a.createElement("button",{onClick:function(){var e,t,a;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,u.a.awrap(p());case 3:return e=n.sent,n.next=6,u.a.awrap(fetch("/api/external",{headers:{Authorization:"Bearer ".concat(e)}}));case 6:return t=n.sent,n.next=9,u.a.awrap(t.json());case 9:a=n.sent,c(!0),m(a),n.next=17;break;case 14:n.prev=14,n.t0=n.catch(0),console.error(n.t0);case 17:case"end":return n.stop()}}),null,null,[[0,14]])}},"Ping API"),a&&r.a.createElement("code",null,JSON.stringify(s,null,2)))},ae=a(159),ne=a(160),re=a(161),ce=a(163),oe=a(52),le=a(77),ie=a.n(le),se=a(78),ue=a.n(se),me=a(162),pe=Object(g.a)((function(e){return{root:{margin:".75%",maxWidth:345,height:"45vh"},shareIcon:{color:"blue"},heartIcon:{color:oe.a[500]},link:{fontSize:"2vh"},media:{height:"25vh",paddingTop:"56.25%"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:oe.a[500]}}}));function de(e){var t=e.lake,a=Object(n.useState)(!1),c=Object(l.a)(a,2),o=c[0],i=c[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),m=u[0],p=u[1],d=pe(),h=Object(I.b)();return r.a.createElement(ae.a,{className:d.root},""!==m?r.a.createElement("h2",{style:{color:"red",textAlign:"center"}},m):null,r.a.createElement("a",{href:""},r.a.createElement(ne.a,{onClick:function(){return function(e,t){e({type:"CURRENT_LAKE",payload:t})}(h,t),void M.push("/lake")},className:d.media,image:t.images[0],title:t.name})),r.a.createElement(re.a,null,r.a.createElement(j.a,{variant:"body2",color:"textSecondary",component:"p"},t.description.slice(0,200)+" ",r.a.createElement(me.a,{className:d.link,href:"#",title:"Learn More"},"..."))),r.a.createElement(ce.a,{disableSpacing:!0},r.a.createElement(y.a,{className:d.heartIcon,"aria-label":"add to favorites",title:"add to favorites",disabled:o,onClick:function(){return p("Added to your favorites!"),setTimeout((function(){return p("")}),2e3),function(e,t){e({type:"FAVORITED_LAKES",payload:t})}(h,t),console.log(t.name),void i(!o)}},r.a.createElement(ie.a,null)),r.a.createElement(y.a,{className:d.shareIcon,"aria-label":"share",title:"share"},r.a.createElement(ue.a,null))))}var he=a(164),fe=function(){var e=Object(I.b)();Object(n.useEffect)((function(){!function(e){fetch("https://jasonserverhoustonfishing.herokuapp.com/lakes/").then((function(e){return e.json()})).then((function(t){return e({type:"FETCH_LAKES",payload:t})}))}(e)}),[e]);var t=Object(I.c)((function(e){return e.lakeReducer.lakes})),a=Object(I.c)((function(e){return e.searchBarReducer.searchParams})),c=Object(I.c)((function(e){return e.searchBarReducer.speciesFilter})),o=Object(I.c)((function(e){return e.searchBarReducer.locationFilter})),l=t.filter((function(e){return"all"===c||e.species.includes(c)})).filter((function(e){return"all"===o||e.locality.includes(o)})).filter((function(e){var t=e.name,n=a.toLowerCase();return t.toLowerCase().includes(n)}));return r.a.createElement("div",null,r.a.createElement(he.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},0===l.length?r.a.createElement("h1",{style:{marginTop:"5rem"}},"Nothing Found for Those Search Criteria"):l.map((function(e){return r.a.createElement(de,{key:e._id,lake:e})}))))},Ee=function(e){var t=Object(I.c)((function(e){return e.lakeReducer.currentLake}));return r.a.createElement("div",{style:{textAlign:"center",margin:"10vh"}},r.a.createElement("h1",null,t.name),r.a.createElement("img",{alt:"lake",src:t.images[0]}),r.a.createElement("p",null,t.description))},ge=a(165),be=Object(g.a)((function(e){return{root:{display:"flex","& > * + *":{marginLeft:e.spacing(2)}}}}));function ve(){var e=be(),t=r.a.useState(0),a=Object(l.a)(t,2),n=a[0],c=a[1];return r.a.useEffect((function(){var e=setInterval((function(){c((function(e){return e>=100?0:e+1}))}),20);return function(){clearInterval(e)}}),[]),r.a.createElement("div",{className:e.root},r.a.createElement(ge.a,{size:"10rem",variant:"determinate",value:n}))}var Oe=function(){return E().loading?r.a.createElement("div",{style:{marginTop:"50vh",marginLeft:"50vw"}},r.a.createElement(ve,null)):r.a.createElement("div",{className:"App"},r.a.createElement(Q.b,{history:M},r.a.createElement("header",null,r.a.createElement(q,null)),r.a.createElement(Q.c,null,r.a.createElement(Q.a,{path:"/",exact:!0,component:fe}),r.a.createElement(Q.a,{path:"/lake",component:Ee}),r.a.createElement(ee,{path:"/profile",component:Z}),r.a.createElement(ee,{path:"/external-api",component:te}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ye=a(53),je=a(79),we=a(16),Se=a(80),ke=a(50),Ce=a(13),Re={lakes:[],currentLake:{},favoritedLakes:[]},_e={messages:[],images:[]},Le={currentUser:"",showLogin:!1,showSignup:!1},Te={searchParams:"",speciesFilter:"",locationFilter:""},xe=Object(we.c)({searchBarReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH_PARAMS":return Object(Ce.a)({},e,{searchParams:t.payload});case"SET_SPECIES_FILTER":return Object(Ce.a)({},e,{speciesFilter:t.payload});case"SET_LOCATION_FILTER":return Object(Ce.a)({},e,{locationFilter:t.payload});default:return e}},lakeReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_LAKES":return Object(Ce.a)({},e,{lakes:t.payload});case"CURRENT_LAKE":return Object(Ce.a)({},e,{currentLake:t.payload});case"FAVORITED_LAKES":var a=[].concat(Object(ke.a)(e.favoritedLakes),[t.payload]),n={},r=a.filter((function(e){return!n[e.name]&&(n[e.name]=!0,!0)}));return Object(Ce.a)({},e,{favoritedLakes:r});default:return e}},messageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_MESSAGES":return Object(Ce.a)({},e,{messages:t.payload});case"POST_MESSAGE":return Object(Ce.a)({},e,{messages:[].concat(Object(ke.a)(e.messages),[t.payload])});case"PATCH_MESSAGE":return Object(Ce.a)({},e,{messages:e.messages.map((function(e){return e._id===t.payload._id?Object(Ce.a)({},e,{replies:t.payload.replies}):e}))});default:return e}},userReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_USER":case"LOGIN_USER":case"LOGOUT_USER":return Object(Ce.a)({},e,{currentUser:t.payload});case"SHOW_LOGIN":return Object(Ce.a)({},e,{showLogin:t.payload});case"SHOW_SIGNUP":return Object(Ce.a)({},e,{showSignup:t.payload});default:return e}}}),Ae=a(62),Ie=a(81),Ne=a.n(Ie),Pe=[Se.a],Fe={key:"root",storage:Ne.a},He=Object(Ae.a)(Fe,xe),Ue=Object(we.e)(He,Object(we.d)(we.a.apply(void 0,Pe),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__())),We=Object(Ae.b)(Ue);o.a.render(r.a.createElement((function(e){var t=e.children,a=e.onRedirectCallback,c=void 0===a?h:a,o=Object(m.a)(e,["children","onRedirectCallback"]),i=Object(n.useState)(),s=Object(l.a)(i,2),p=s[0],E=s[1],g=Object(n.useState)(),b=Object(l.a)(g,2),v=b[0],O=b[1],y=Object(n.useState)(),j=Object(l.a)(y,2),w=j[0],S=j[1],k=Object(n.useState)(!0),C=Object(l.a)(k,2),R=C[0],_=C[1],L=Object(n.useState)(!1),T=Object(l.a)(L,2),x=T[0],A=T[1];Object(n.useEffect)((function(){!function(){var e,t,a,n,r;u.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,u.a.awrap(d()(o));case 2:if(e=l.sent,S(e),!window.location.search.includes("code=")){l.next=10;break}return l.next=7,u.a.awrap(e.handleRedirectCallback());case 7:t=l.sent,a=t.appState,c(a);case 10:return l.next=12,u.a.awrap(e.isAuthenticated());case 12:if(n=l.sent,E(n),!n){l.next=20;break}return l.next=17,u.a.awrap(e.getUser());case 17:r=l.sent,console.log(r),O(r);case 20:_(!1);case 21:case"end":return l.stop()}}))}()}),[]);return r.a.createElement(f.Provider,{value:{isAuthenticated:p,user:v,loading:R,popupOpen:x,loginWithPopup:function(){var e,t,a=arguments;return u.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},A(!0),n.prev=2,n.next=5,u.a.awrap(w.loginWithPopup(e));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.error(n.t0);case 10:return n.prev=10,A(!1),n.finish(10);case 13:return n.next=15,u.a.awrap(w.getUser());case 15:t=n.sent,O(t),E(!0);case 18:case"end":return n.stop()}}),null,null,[[2,7,10,13]])},handleRedirectCallback:function(){var e;return u.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return _(!0),t.next=3,u.a.awrap(w.handleRedirectCallback());case 3:return t.next=5,u.a.awrap(w.getUser());case 5:e=t.sent,_(!1),E(!0),O(e);case 9:case"end":return t.stop()}}))},getIdTokenClaims:function(){return w.getIdTokenClaims.apply(w,arguments)},loginWithRedirect:function(){return w.loginWithRedirect.apply(w,arguments)},getTokenSilently:function(){return w.getTokenSilently.apply(w,arguments)},getTokenWithPopup:function(){return w.getTokenWithPopup.apply(w,arguments)},logout:function(){return w.logout.apply(w,arguments)}}},t)}),{domain:ye.domain,client_id:ye.clientId,redirect_uri:window.location.origin,onRedirectCallback:function(e){M.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)},audience:ye.audience},r.a.createElement(I.a,{store:Ue},r.a.createElement(je.a,{loading:null,persistor:We},r.a.createElement(Oe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},53:function(e){e.exports=JSON.parse('{"domain":"dev-rl-uenl4.auth0.com","clientId":"NSKL3l9YYjtwMlYFsKSILpnai2KK9rdf","audience":"https://jasonserverhoustonfishing.herokuapp.com"}')},92:function(e,t,a){e.exports=a(109)}},[[92,1,2]]]);
//# sourceMappingURL=main.1c765138.chunk.js.map