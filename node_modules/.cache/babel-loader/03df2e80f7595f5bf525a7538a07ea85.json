{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\Users\\\\Jason\\\\Desktop\\\\Coding\\\\fishing_app_houston\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _slicedToArray from\"C:\\\\Users\\\\Jason\\\\Desktop\\\\Coding\\\\fishing_app_houston\\\\Client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";// src/views/ExternalApi.js\nimport React,{useState}from\"react\";import{useAuth0}from\"../react-auth0-spa\";var ExternalApi=function ExternalApi(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showResult=_useState2[0],setShowResult=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),apiMessage=_useState4[0],setApiMessage=_useState4[1];var _useAuth=useAuth0(),getTokenSilently=_useAuth.getTokenSilently;var callApi=function callApi(){var token,response,responseData;return _regeneratorRuntime.async(function callApi$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regeneratorRuntime.awrap(getTokenSilently());case 3:token=_context.sent;_context.next=6;return _regeneratorRuntime.awrap(fetch(\"/api/external\",{headers:{Authorization:\"Bearer \".concat(token)}}));case 6:response=_context.sent;_context.next=9;return _regeneratorRuntime.awrap(response.json());case 9:responseData=_context.sent;setShowResult(true);setApiMessage(responseData);_context.next=17;break;case 14:_context.prev=14;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 17:case\"end\":return _context.stop();}}},null,null,[[0,14]]);};return React.createElement(React.Fragment,null,React.createElement(\"h1\",null,\"External API\"),React.createElement(\"button\",{onClick:callApi},\"Ping API\"),showResult&&React.createElement(\"code\",null,JSON.stringify(apiMessage,null,2)));};export default ExternalApi;","map":{"version":3,"sources":["C:/Users/Jason/Desktop/Coding/fishing_app_houston/Client/src/components/ExternalApi.js"],"names":["React","useState","useAuth0","ExternalApi","showResult","setShowResult","apiMessage","setApiMessage","getTokenSilently","callApi","token","fetch","headers","Authorization","response","json","responseData","console","error","JSON","stringify"],"mappings":"2WAAA;AAEA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,QAAT,KAAyB,oBAAzB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACYF,QAAQ,CAAC,KAAD,CADpB,wCACjBG,UADiB,eACLC,aADK,8BAEYJ,QAAQ,CAAC,EAAD,CAFpB,yCAEjBK,UAFiB,eAELC,aAFK,4BAGKL,QAAQ,EAHb,CAGhBM,gBAHgB,UAGhBA,gBAHgB,CAKxB,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,qNAEQD,gBAAgB,EAFxB,SAENE,KAFM,gEAIWC,KAAK,CAAC,eAAD,CAAkB,CAC5CC,OAAO,CAAE,CACPC,aAAa,kBAAYH,KAAZ,CADN,CADmC,CAAlB,CAJhB,SAINI,QAJM,gEAUeA,QAAQ,CAACC,IAAT,EAVf,SAUNC,YAVM,eAYZX,aAAa,CAAC,IAAD,CAAb,CACAE,aAAa,CAACS,YAAD,CAAb,CAbY,iFAeZC,OAAO,CAACC,KAAR,cAfY,kEAAhB,CAmBA,MACE,yCACE,6CADF,CAEE,8BAAQ,OAAO,CAAET,OAAjB,aAFF,CAGGL,UAAU,EAAI,gCAAOe,IAAI,CAACC,SAAL,CAAed,UAAf,CAA2B,IAA3B,CAAiC,CAAjC,CAAP,CAHjB,CADF,CAOD,CA/BD,CAiCA,cAAeH,CAAAA,WAAf","sourcesContent":["// src/views/ExternalApi.js\n\nimport React, { useState } from \"react\";\nimport { useAuth0 } from \"../react-auth0-spa\";\n\nconst ExternalApi = () => {\n  const [showResult, setShowResult] = useState(false);\n  const [apiMessage, setApiMessage] = useState(\"\");\n  const { getTokenSilently } = useAuth0();\n\n  const callApi = async () => {\n    try {\n      const token = await getTokenSilently();\n\n      const response = await fetch(\"/api/external\", {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      });\n\n      const responseData = await response.json();\n\n      setShowResult(true);\n      setApiMessage(responseData);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <>\n      <h1>External API</h1>\n      <button onClick={callApi}>Ping API</button>\n      {showResult && <code>{JSON.stringify(apiMessage, null, 2)}</code>}\n    </>\n  );\n};\n\nexport default ExternalApi;"]},"metadata":{},"sourceType":"module"}